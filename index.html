<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0">
    <title>VONE — Official License Validator</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <style>
        :root { --primary: #6366f1; --bg: #020617; }
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background: #020617; color: #f8fafc; 
            overflow-x: hidden; scroll-behavior: smooth; 
        }
        
        .glass { background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.06); }
        .glass-heavy { background: rgba(7, 10, 25, 0.98); backdrop-filter: blur(40px); border: 1px solid rgba(99, 102, 241, 0.3); }
        
        .status-pulse { width: 8px; height: 8px; background: #10b981; border-radius: 50%; box-shadow: 0 0 15px #10b981; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }

        .price-card { transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); position: relative; overflow: hidden; }
        .price-card:hover { transform: translateY(-10px); border-color: #6366f1; }
        
        .shake { animation: shake 0.5s ease; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-8px); } 75% { transform: translateX(8px); } }

        #orderModal { display: none; }
        #orderModal.active { display: flex; }

        .mac-input { letter-spacing: 2px; font-family: monospace; text-transform: uppercase; }
        
        /* Custom Checkmark Animation */
        .check-circle { width: 60px; height: 60px; border-radius: 50%; background: #10b981; display: flex; items-center; justify-content: center; margin: 0 auto 20px; }
    </style>
</head>
<body>

<nav class="fixed top-0 inset-x-0 z-50 p-6">
    <div class="max-w-7xl mx-auto glass rounded-3xl p-5 flex justify-between items-center shadow-2xl">
        <div class="flex items-center gap-4">
            <div class="bg-indigo-600 w-12 h-12 rounded-2xl flex items-center justify-center font-black italic text-xl shadow-lg shadow-indigo-500/20">V1</div>
            <div>
                <span class="text-[10px] font-black uppercase tracking-[3px] block italic">VisionOne</span>
                <div class="flex items-center gap-2 mt-1">
                    <div class="status-pulse"></div>
                    <span class="text-[8px] font-black uppercase text-slate-500 tracking-widest">Global License Sync</span>
                </div>
            </div>
        </div>
        <div class="hidden md:flex gap-8 text-[9px] font-black uppercase tracking-widest text-slate-400">
            <a href="#pricing" class="hover:text-indigo-400 transition">Packages</a>
            <a href="#" class="hover:text-indigo-400 transition">Infrastructure</a>
        </div>
    </div>
</nav>

<section class="min-h-screen flex flex-col justify-center items-center px-6 text-center pt-20">
    <div class="absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(99,102,241,0.1),transparent_50%)]"></div>
    <h1 class="text-6xl md:text-9xl font-black uppercase italic leading-none mb-6 relative">
      PLAYER<br><span class="text-indigo-500">LICENSE.</span>
    </h1>
    <p class="max-w-xl text-[10px] text-slate-500 font-bold uppercase tracking-[6px] mb-12 relative">
        Offizielle Verifizierung der Player App-Lizenz
    </p>
    <a href="#pricing" class="px-14 py-7 bg-indigo-600 rounded-3xl font-black uppercase text-xs tracking-[4px] hover:bg-indigo-500 transition shadow-2xl shadow-indigo-600/30 relative">
        Paket Wählen
    </a>
</section>

<section id="pricing" class="py-32 px-6">
    <div class="max-w-7xl mx-auto grid lg:grid-cols-3 md:grid-cols-2 gap-8">
        <div class="price-card glass p-10 rounded-[45px] border border-white/5">
            <h4 class="text-[10px] font-black text-slate-500 uppercase mb-8 tracking-widest">Standard Sync</h4>
            <div class="text-6xl font-black mb-4 italic">40 €</div>
            <p class="text-xs font-black text-indigo-400 uppercase mb-10 pb-6 border-b border-white/5">1 Monat Aktivierung</p>
            <button onclick="openCheckout('1 Monat')" class="w-full py-5 rounded-2xl bg-white/5 border border-white/10 font-black text-[10px] uppercase hover:bg-white/10 transition">In den Warenkorb</button>
        </div>

        <div class="price-card glass-heavy p-10 rounded-[45px] border-2 border-indigo-500/50 scale-105 shadow-2xl">
            <div class="absolute top-6 right-8 bg-indigo-500 text-white px-4 py-1 rounded-full text-[8px] font-black uppercase tracking-widest">Popular</div>
            <h4 class="text-[10px] font-black text-indigo-400 uppercase mb-8 tracking-widest">Premium Sync</h4>
            <div class="text-6xl font-black mb-4 italic">120 €</div>
            <p class="text-xs font-black text-indigo-400 uppercase mb-10 pb-6 border-b border-indigo-500/20">1 Jahr Aktivierung</p>
            <button onclick="openCheckout('12 Monate')" class="w-full py-5 rounded-2xl bg-indigo-600 font-black text-[10px] uppercase hover:bg-indigo-500 transition shadow-lg shadow-indigo-500/20">Jetzt Kaufen</button>
        </div>

        <div class="price-card glass p-10 rounded-[45px] border border-white/5">
            <h4 class="text-[10px] font-black text-slate-500 uppercase mb-8 tracking-widest">Lifetime Sync</h4>
            <div class="text-6xl font-black mb-4 italic text-amber-500">300 €</div>
            <p class="text-xs font-black text-amber-500/60 uppercase mb-10 pb-6 border-b border-white/5">Lebenslange Lizenz</p>
            <button onclick="openCheckout('LIFETIME')" class="w-full py-5 rounded-2xl bg-amber-500/10 border border-amber-500/20 text-amber-500 font-black text-[10px] uppercase hover:bg-amber-500/20 transition">Unlimitiert Sichern</button>
        </div>
    </div>
</section>

<div id="orderModal" class="fixed inset-0 z-[100] items-center justify-center p-6 bg-black/95 backdrop-blur-xl hidden">
    <div class="glass-heavy max-w-lg w-full p-12 rounded-[50px] shadow-3xl border border-white/10 relative">
        <button onclick="closeModal()" class="absolute top-10 right-10 text-slate-500 hover:text-white transition text-2xl">✕</button>
        
        <div id="step-verify">
            <div class="text-center mb-10">
                <span id="selectedPkgLabel" class="text-indigo-500 font-black uppercase text-[10px] tracking-widest block mb-3">PACKAGE</span>
                <h3 class="text-3xl font-black uppercase italic italic">App <span class="text-indigo-500">License</span> Check</h3>
                <p class="text-[9px] text-slate-500 font-bold uppercase mt-4 tracking-widest leading-relaxed">
                    Wir validieren Ihre MAC-Adresse direkt mit dem<br>offiziellen Lizenz-Server der jeweiligen Player Webseite.
                </p>
            </div>

            <div class="space-y-4">
                <div class="relative group">
                    <input type="text" id="macInput" placeholder="MAC ADRESSE (00:1A...)" 
                           class="w-full bg-black/50 border border-white/10 p-6 rounded-3xl text-white font-mono text-center focus:border-indigo-500 outline-none transition uppercase text-sm mac-input">
                </div>
                <div class="relative group">
                    <input type="text" id="keyInput" placeholder="DEVICE KEY" 
                           class="w-full bg-black/50 border border-white/10 p-6 rounded-3xl text-white text-center focus:border-indigo-500 outline-none transition uppercase text-sm tracking-[4px]">
                </div>
                
                <button onclick="runOfficialCheck()" 
                        class="w-full py-6 bg-white text-black font-black uppercase text-[10px] tracking-[3px] rounded-3xl hover:bg-indigo-600 hover:text-white transition-all duration-500 shadow-xl">
                    Lizenz Verifizieren
                </button>
            </div>
            
            <div id="loaderStatus" class="hidden mt-8 p-5 rounded-2xl text-[9px] font-black uppercase text-center tracking-widest"></div>
        </div>

        <div id="step-success" class="hidden text-center animate-fadeIn">
            <div class="check-circle shadow-[0_0_30px_rgba(16,185,129,0.4)]">
                <i class="fas fa-check text-white text-2xl"></i>
            </div>
            <h4 class="text-emerald-400 font-black uppercase text-lg mb-2">Validierung Erfolgreich</h4>
            <p class="text-[10px] text-slate-400 uppercase mb-10 tracking-widest">Die Lizenz ist für dieses Gerät verfügbar.</p>
            
            <div class="grid grid-cols-1 gap-4">
                <a id="finalTgLink" href="#" class="w-full py-6 bg-indigo-600 text-white font-black uppercase text-[10px] tracking-widest rounded-3xl hover:shadow-2xl hover:shadow-indigo-500/40 transition">Checkout via Telegram</a>
                <p class="text-[8px] text-slate-600 uppercase">Sende deine MAC nach dem Klick an den Support</p>
            </div>
        </div>
    </div>
</div>

<footer class="py-20 text-center bg-black border-t border-white/5">
    <p class="text-[9px] text-slate-700 font-black uppercase tracking-[5px]">VisionOne Merkez • Global Licensing Core</p>
</footer>

<script>
// --- FIREBASE SETUP ---
const firebaseConfig = {
    databaseURL: "https://db--merkez-default-rtdb.europe-west1.firebasedatabase.app/"
};
if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
const database = firebase.database();

let currentPackage = "";

// --- MODAL CONTROLS ---
function openCheckout(pkg) {
    currentPackage = pkg;
    document.getElementById('selectedPkgLabel').innerText = pkg;
    document.getElementById('orderModal').classList.add('active');
    document.getElementById('step-verify').classList.remove('hidden');
    document.getElementById('step-success').classList.add('hidden');
}

function closeModal() {
    document.getElementById('orderModal').classList.remove('active');
}

// --- CORE VALIDATOR LOGIC ---
async function runOfficialCheck() {
    const mac = document.getElementById('macInput').value.trim().toUpperCase();
    const key = document.getElementById('keyInput').value.trim();
    const status = document.getElementById('loaderStatus');

    if (mac.length < 12 || key.length < 2) {
        document.getElementById('macInput').classList.add('shake', 'border-red-500/50');
        setTimeout(() => document.getElementById('macInput').classList.remove('shake'), 500);
        return;
    }

    status.classList.remove('hidden');
    status.innerHTML = `<i class="fas fa-spinner animate-spin mr-2"></i> Verbinde mit Player Webseite...`;
    status.className = "mt-8 p-5 rounded-2xl bg-indigo-500/10 text-indigo-400 text-center italic";

    try {
        // Wir fragen deine Firebase ab, welche als Cache für die Webseiten-Daten dient
        const dbKey = mac.replace(/:/g, "-");
        const snapshot = await database.ref('player_activations/' + dbKey).once('value');
        const data = snapshot.val();

        // SIMULATION DER WEBSEITEN-ABFRAGE
        if (data && data.device_key === key) {
            // Prüfung ob die Lizenz laut Webseite schon gekauft wurde
            if (data.is_license_purchased === true) {
                status.innerHTML = "SYSTEM INFO: DIESE LIZENZ IST BEREITS AKTIV!";
                status.className = "mt-8 p-5 rounded-2xl bg-amber-500/20 text-amber-500 font-black";
            } else {
                status.innerHTML = "VALIDIERUNG ERFOLGREICH!";
                status.className = "mt-8 p-5 rounded-2xl bg-emerald-500/20 text-emerald-400 font-black";
                
                // Vorbereitung Checkout Link
                const msg = encodeURIComponent(`Lizenz-Bestellung: [${currentPackage}] | MAC: ${mac} | Key: ${key}`);
                document.getElementById('finalTgLink').href = `https://t.me/DEIN_SUPPORT_USER?text=${msg}`;
                
                setTimeout(() => {
                    document.getElementById('step-verify').classList.add('hidden');
                    document.getElementById('step-success').classList.remove('hidden');
                }, 1000);
            }
        } else {
            status.innerHTML = "FEHLER: MAC ODER DEVICE-KEY UNGÜLTIG!";
            status.className = "mt-8 p-5 rounded-2xl bg-red-500/20 text-red-500 font-black";
        }
    } catch (e) {
        status.innerHTML = "SERVER ERROR - BITTE SUPPORT KONTAKTIEREN";
        console.error(e);
    }
}
</script>

</body>
</html>
